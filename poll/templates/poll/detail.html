{% extends "poll/index.html" %}
{% block details %}
  <div class="row">
    <div class="col align-self-center">
      <h2 class="text-center">{{ topic.content }}(投票总数{{ topic.participant_num }})</h2>
    </div>
  </div>
  <form class="align-items-center" action="" method="post">
    {% csrf_token %}
    {% if topic.type == 'S' %}
      {% for choice in choices %}
        <div class="form-check align-self-center">
          <div class="row">
            <div class="col-3">
              <input class="form-check-input" type="radio" name="choice" id="choice{{ forloop.counter }}"
                     value="{{ choice.id }}">
              <label class="form-check-label"
                     for="choice{{ forloop.counter }}">{{ choice.description }} {{ choice.votes }}</label>
            </div>
            <div class="col-6">
              <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                   aria-valuemin="0"
                   aria-valuemax="100">
                <div class="progress-bar"
                     style="width: {% widthratio choice.votes topic.participant_num 100 %}%">{% widthratio choice.votes topic.participant_num 100 %}%
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      {% for choice in choices %}
        <div class="row">
          <input type="checkbox" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
          <label for="choice{{ forloop.counter }}">{{ choice.description }} {{ choice.votes }}</label>
        </div>
      {% endfor %}
    {% endif %}
    <button class="btn btn-primary" type="submit" id="submit">submit</button>
  </form>

{% endblock %}
